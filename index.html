<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Randall Thor oo wu</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
        font-family: 'Roboto', sans-serif;
        }
        .rand {
        width: calc(100% - 25%);
        height: 100vh;
        background: url('./randalthor.jpeg') 0 0 no-repeat;
        background-size: cover;
        
        }
        .wrapper {
            position: relative;
            display: flex;
        }
        .visually-hidden {
            color: transparent;
        }
        .buttons {
            display: flex;
            flex-flow: column nowrap;
            align-items: center;
            position: absolute;
            right: 0;
            z-index: 3;
        }
        button {
            width: 150px;
            padding: 1rem;
            margin: 2rem;
            color: #000;
            font-size: 2rem;
            border-color: transparent;
            user-select: none;
        }
        .img-wrap {
            position: relative;
        }
        .close {
            background-color: #fff;
            border-radius: 50%;
            border: 2px solid black;
            position: absolute;
            top: 0;
            right: 0;
            padding: 0.25rem 0.45rem;
            cursor: pointer;
            font-weight: 700;
        }
        @media screen and (max-width: 1000px) {
            body {
                touch-action:none;
            }
            .rand {
                touch-action:none;
                background-position: 50% 0;
            }
            button {
                width: 75px;
                font-size: 1.2rem;
                margin: .5rem;
            }
            button img {
                touch-action:none;
                max-width: 45px;
            }
            
        }
    </style>
</head>
<body>
    <div class="wrapper">
        <div class="rand">
            <div class="visually-hidden" aria-live="polite">This web page has a background image of Rand Al'Thor from the Amazon wheel of time series. You can use the sponge, brush, and binky to take care of this oooo woo boy</div>
        </div>
        <div class="buttons">
            <button id="wash"><img src="./sponge.png" alt="Blue sponge to wash with" />wash</button>
            <button id="brush"><img src="./scrub-brush.png" alt="Brown brush" />brush</button>
            <button id="binky"><img src="./pacifier_pink.png" alt="Pink pacifier" />binky</button>
        </div>
    </div>
    <script>
    const wrapper = document.querySelector('.wrapper')
    const rand = document.querySelector('.rand')
    const sponge = document.querySelector('#wash')
    const scrub = document.querySelector('#brush')
    const binky = document.querySelector('#binky')
    const spongeImg = document.querySelector('#wash img') 
    const brushImg = document.querySelector('#brush img') 
    const binkyImg = document.querySelector('#binky img') 
    let dropImage
        
        
    spongeImg.setAttribute('draggable', true)
    brushImg.setAttribute('draggable', true)
    binkyImg.setAttribute('draggable', true)

    rand.addEventListener('dragover', (e) => {
        e.preventDefault()
    }, false)

    rand.addEventListener('drop', (e) => {
        rand.insertAdjacentHTML('afterend', dropImage)
    })

    function removeImage() {
        const remImage = document.querySelector('.outer-wrap')
        remImage.remove()
    }

    if(window.innerWidth > 1000) {
        spongeImg.addEventListener('drag', (e) => {
            dropImage = `<div class="outer-wrap" style="position:absolute; top:${e.pageY - 56}px; left:${e.pageX - 56}px;"><div class="img-wrap"><div class="close" onclick="removeImage()">X</div><img src="./sponge.png" alt="Baby has a scrub" /></div></div>`
        })
        brushImg.addEventListener('drag', (e) => {
            dropImage = `<div class="outer-wrap" style="position:absolute; top:${e.pageY - 56}px; left:${e.pageX - 56}px;""><div class="img-wrap"><div class="close" onclick="removeImage()">X</div><img src="./scrub-brush.png" alt="Baby has a brush" /></div></div>`
        })
        binkyImg.addEventListener('drag', (e) => {
            dropImage = `<div class="outer-wrap" style="position:absolute; top:${e.pageY - 56}px; left:${e.pageX - 56}px;"><div class="img-wrap"><div class="close" onclick="removeImage()">X</div><img src="./pacifier_pink.png" alt="Baby has a nap now" /></div></div>`
        })
            
     } else {
        sponge.addEventListener('click', () => {
        rand.addEventListener('touchmove', (e) => {
            const remImage = document.querySelector('.outer-wrap')
            if(remImage) removeImage()
            for (let i = 0; i < e.touches.length; i++) {
                rand.insertAdjacentHTML('afterend', `<div class="outer-wrap" style="position:absolute; top:${e.touches[i].clientY - 22.5}px; left:${e.touches[i].clientX - 22.5}px;"><div class="img-wrap"><div class="close" onclick="removeImage()">X</div><img src="./sponge.png" alt="Baby has a scrub" /></div></div>`)
            }
        })
        })
        scrub.addEventListener('click', () => {
        rand.addEventListener('touchmove', (e) => {
        const remImage = document.querySelector('.outer-wrap')
        if(remImage) removeImage()
        for (let i = 0; i < e.touches.length; i++) {
            rand.insertAdjacentHTML('afterend', `<div class="outer-wrap" style="position:absolute; top:${e.touches[i].clientY - 22.5}px; left:${e.touches[i].clientX - 22.5}px;"><div class="img-wrap"><div class="close" onclick="removeImage()">X</div><img src="./scrub-brush.png" alt="Baby has a brush" /></div></div>`)
        }
        })
        })
        binky.addEventListener('click', (e) => {
        rand.addEventListener('touchmove', (e) => {
        const remImage = document.querySelector('.outer-wrap')
        if(remImage) removeImage()
        for (let i = 0; i < e.touches.length; i++) {
            rand.insertAdjacentHTML('afterend', `<div class="outer-wrap" style="position:absolute; top:${e.touches[i].clientY - 22.5}px; left:${e.touches[i].clientX- 22.5}px;"><div class="img-wrap"><div class="close" onclick="removeImage()">X</div><img src="./pacifier_pink.png" alt="Baby has a nap now" /></div></div>`)
        }
        })
    })
}
    </script>
</body>
</html>